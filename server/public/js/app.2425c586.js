(function(t){function e(e){for(var n,i,s=e[0],c=e[1],d=e[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"1af9":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("5f5b"),o=a("b1e0"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Page")],1)},s=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[t._m(0),a("div",{attrs:{id:"newZone"}},[a("div",{staticClass:"text-center "},[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.toggleNewcan=!t.toggleNewcan}}},[t._v("Add new candidate"),a("b-icon",{attrs:{icon:"chevron-down"}})],1)]),a("form",{directives:[{name:"show",rawName:"v-show",value:t.toggleNewcan,expression:"toggleNewcan"}],staticClass:"text-center candidate-creator container",attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"candidate-name"}},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{type:"text",id:"candidate-name",name:"newCandidate[name]",placeholder:" Name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"candidate-edu"}},[t._v("Education:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.education,expression:"form.education"}],attrs:{type:"text",id:"candidate-edu",name:"newCandidate[education]",placeholder:" Education"},domProps:{value:t.form.education},on:{input:function(e){e.target.composing||t.$set(t.form,"education",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"candidate-email"}},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",id:"candidate-email",name:"newCandidate[email]",placeholder:" Email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"file"},[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"fields"},[a("label",[t._v("Upload File")]),a("br"),a("input",{ref:"file",attrs:{type:"file"},on:{change:t.onSelect}})]),a("div",{staticClass:"message"},[a("h5",[t._v(t._s(t.message))])])])]),a("br"),a("button",{staticClass:"btn btn-info",on:{click:t.createCandidate}},[t._v("Add Candidate")])])]),a("hr"),t.error?a("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.error))]):t._e(),a("div",{staticClass:"flexbox container"},[a("div",{staticClass:"row flex-row flex-nowrap"},[a("Board",{staticClass:"board col-2",attrs:{id:"board-1",process:"Applied"}},t._l(t.can_col[0],(function(e,n){return a("Card",{key:e._id,staticClass:"card container",attrs:{draggable:"true",item:e,index:n,id:e._id,candidate:e}},[a("div",{staticClass:"row"}),a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteCandidate(e._id)}}},[t._v("Delete")])])})),1),a("Board",{staticClass:"board col-2",attrs:{id:"board-2",process:"Phone Screen"}},t._l(t.can_col[1],(function(e,n){return a("Card",{key:e._id,staticClass:"card container",attrs:{draggable:"true",item:e,index:n,id:e._id,candidate:e}},[a("div",{staticClass:"row"}),a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteCandidate(e._id)}}},[t._v("Delete")])])})),1),a("Board",{staticClass:"board col-2",attrs:{id:"board-3",process:"On Site"}},t._l(t.can_col[2],(function(e,n){return a("Card",{key:e._id,staticClass:"card container",attrs:{draggable:"true",item:e,index:n,id:e._id,candidate:e}},[a("div",{staticClass:"row"}),a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteCandidate(e._id)}}},[t._v("Delete")])])})),1),a("Board",{staticClass:"board col-2",attrs:{id:"board-4",process:"Offered"}},t._l(t.can_col[3],(function(e,n){return a("Card",{key:e._id,staticClass:"card container",attrs:{draggable:"true",item:e,index:n,id:e._id,candidate:e}},[a("div",{staticClass:"row"}),a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteCandidate(e._id)}}},[t._v("Delete")])])})),1),a("Board",{staticClass:"board col-2",attrs:{id:"board-5",process:"Accepted"}},t._l(t.can_col[4],(function(e,n){return a("Card",{key:e._id,staticClass:"card container",attrs:{draggable:"true",item:e,index:n,id:e._id,candidate:e}},[a("div",{staticClass:"row"}),a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteCandidate(e._id)}}},[t._v("Delete")])])})),1),a("Board",{staticClass:"board col-2",attrs:{id:"board-6",process:"Rejected"}},t._l(t.can_col[5],(function(e,n){return a("Card",{key:e._id,staticClass:"card container",attrs:{draggable:"true",item:e,index:n,id:e._id,candidate:e}},[a("div",{staticClass:"row"}),a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.deleteCandidate(e._id)}}},[t._v("Delete")])])})),1)],1)])],1)},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jumbotron"},[a("h1",{staticClass:"display-4"},[t._v("Candidate Manager")]),a("p",{staticClass:"lead"},[t._v("Web app to manage recruitment processes")])])}],l=(a("b0c0"),a("96cf"),a("1da1")),u=(a("d3b7"),a("d4ec")),m=a("bee2"),f=a("bc3a"),p=a.n(f),v="api/candidates/",g=function(){function t(){Object(u["a"])(this,t)}return Object(m["a"])(t,null,[{key:"getCandidates",value:function(){return new Promise((function(t,e){p.a.get(v).then((function(e){console.log(e),t(e.data)})).catch((function(t){console.log(t),e(t)}))}))}},{key:"insertCandidate",value:function(t,e){return e.append("file",e),e.append("name",t.name),e.append("education",t.education),e.append("email",t.email),p()({method:"post",url:"".concat(v),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},{key:"deleteCandidate",value:function(t){p.a.delete("".concat(v).concat(t)).then().catch((function(t){console.log(t)}))}},{key:"insertComment",value:function(t,e){return p.a.post("".concat(v).concat(t,"/comments"),{text:e.text,author:e.author,rating:e.rating}).then().catch((function(t){console.log(t)}))}},{key:"getResume",value:function(t){window.open("".concat(v,"asset/").concat(t),"_blank")}},{key:"changeCanState",value:function(t,e){return console.log("".concat(v).concat(t,"/edit")),p.a.put("".concat(v).concat(t,"/edit"),{newState:e}).then().catch((function(t){console.log(t)}))}}]),t}(),b=g,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board",attrs:{id:t.id},on:{dragover:function(t){t.preventDefault()},drop:function(e){return e.preventDefault(),t.drop(e)}}},[a("div",{staticClass:"header panel-info"},[a("div",{staticClass:"panel-body",attrs:{id:"header-text"}},[t._v(t._s(t.process))])]),t._t("default")],2)},h=[],_={props:["id","process"],methods:{drop:function(t){var e=t.dataTransfer.getData("card_id"),a=document.getElementById(e),n=t.target.id.charAt(6);n-=1,a.style.display="block",t.target.appendChild(a),b.changeCanState(e,n)}},data:function(){return{boardId:this.id}}},w=_,x=(a("872f"),a("2877")),y=Object(x["a"])(w,C,h,!1,null,"1e1e548e",null),k=y.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",attrs:{id:t.id,draggable:t.draggable},on:{dragstart:t.dragStart,dragover:function(t){t.stopPropagation()}}},[a("div",{staticClass:"div info-card"},[a("p",{staticClass:"can-name"},[t._v(t._s(t.candidate.name))]),a("p"),a("p",{staticClass:"can-info"},[t._v(t._s(t.candidateData.education))]),a("p",{staticClass:"can-info"},[t._v(t._s(t.candidateData.email))]),a("p",{staticClass:"can-rating"},[t._v("Current rating: "),a("span",{staticClass:"rating-val"},[t._v(t._s((Math.round(100*t.rating)/100).toFixed(2)))])]),a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.resumeFunction(t.candidateData.resume)}}},[t._v("view Resume")])]),a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){t.toggleComments=!t.toggleComments}}},[t._v("show comments"),a("b-icon",{attrs:{icon:"chevron-down"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleComments,expression:"toggleComments"}],staticClass:"div container comment-page"},t._l(t.candidateData.comments,(function(e){return a("div",{key:e.id,staticClass:"row"},[a("div",{staticClass:"col comment-board"},[a("span",{staticClass:"commenter-name"},[t._v(t._s(e.author))]),a("span",{staticClass:"comment-rating"},[t._v("rating:"+t._s(e.rating))]),a("p",[t._v(t._s(e.text))])])])})),0),a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(e){t.toggleForm=!t.toggleForm}}},[t._v("add comment"),a("b-icon",{attrs:{icon:"chevron-down"}})],1),a("form",{directives:[{name:"show",rawName:"v-show",value:t.toggleForm,expression:"toggleForm"}],staticClass:"comment-form"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.author,expression:"form.author"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"comment-author",placeholder:"Commenter:"},domProps:{value:t.form.author},on:{input:function(e){e.target.composing||t.$set(t.form,"author",e.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.rating,expression:"form.rating"}],staticClass:"form-control form-control-sm",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"rating",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("1 star")]),a("option",{attrs:{value:"2"}},[t._v("2 star")]),a("option",{attrs:{selected:"",value:"3"}},[t._v("3 star")]),a("option",{attrs:{value:"3"}},[t._v("4 star")]),a("option",{attrs:{value:"3"}},[t._v("5 star")])]),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],staticClass:"form-control form-control-sm",attrs:{id:"comment-text",placeholder:"Comment:",rows:"3"},domProps:{value:t.form.text},on:{input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}})]),a("button",{staticClass:"btn btn-sm btn-success",on:{click:function(e){t.createComment(),t.reloadPage()}}},[t._v("Post Comment")])]),t._t("default")],2)},j=[],P={props:["id","draggable","candidate"],methods:{dragStart:function(t){var e=t.target;t.dataTransfer.setData("card_id",e.id)},createComment:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.form.text&&t.form.author&&t.form.rating){e.next=3;break}return alert("please fill in comments"),e.abrupt("return");case 3:return e.next=5,b.insertComment(t.candidate._id,t.form);case 5:case"end":return e.stop()}}),e)})))()},reloadPage:function(){window.location.reload()},resumeFunction:function(t){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.getResume(t);case 2:case"end":return e.stop()}}),e)})))()}},data:function(){return{candidateData:this.candidate,form:{text:"",author:"",rating:0},rating:"",toggleForm:!1,toggleComments:!1,link:"https://bootstrap-vue.org/docs/icons"}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=0,n=0,r=t.candidate.comments.length,r>0){for(o=0;o<r;o++)a+=t.candidate.comments[o].rating,n+=1;t.rating=a/n}case 4:case"end":return e.stop()}}),e)})))()}},D=P,N=(a("6609"),Object(x["a"])(D,O,j,!1,null,"4f2faf80",null)),R=N.exports,S={name:"Page",components:{Board:k,Card:R},data:function(){return{candidates:[],error:"",form:{name:"",education:"",email:""},toggleNewcan:!1,file:"",message:"",can_col:[[],[],[],[],[],[]]}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.getCandidates();case 3:if(t.candidates=e.sent,a=t.candidates.length,0!==a){e.next=7;break}return e.abrupt("return");case 7:for(n=0;n<a;n++)r=t.candidates[n],t.can_col[r.state].push(r);e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.error=e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},methods:{createCandidate:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.file){e.next=3;break}return alert("please upload file"),e.abrupt("return");case 3:if(t.form.name&&t.form.education&&t.form.email){e.next=6;break}return alert("please fill in information"),e.abrupt("return");case 6:return a=new FormData,a.append("file",t.file),e.prev=8,e.next=11,b.insertCandidate(t.form,a);case 11:t.message="successful",e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](8),console.log(e.t0),t.message="something went wrong";case 18:return e.next=20,b.getCandidates();case 20:t.candidates=e.sent;case 21:case"end":return e.stop()}}),e,null,[[8,14]])})))()},deleteCandidate:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b.deleteCandidate(t);case 2:return a.next=4,b.getCandidates();case 4:e.candidates=a.sent,window.location.reload();case 6:case"end":return a.stop()}}),a)})))()},onSelect:function(){var t=this.$refs.file.files[0];this.file=t}}},$=S,E=(a("9e1d"),Object(x["a"])($,c,d,!1,null,"71ea11e8",null)),F=E.exports,B={name:"App",components:{Page:F}},A=B,M=(a("034f"),Object(x["a"])(A,i,s,!1,null,null,null)),T=M.exports;a("f9e3"),a("2dd8");n["default"].config.productionTip=!1,n["default"].use(r["a"]),n["default"].use(o["a"]),new n["default"]({render:function(t){return t(T)}}).$mount("#app")},"5f94":function(t,e,a){},6609:function(t,e,a){"use strict";var n=a("d40a"),r=a.n(n);r.a},"85ec":function(t,e,a){},"872f":function(t,e,a){"use strict";var n=a("5f94"),r=a.n(n);r.a},"9e1d":function(t,e,a){"use strict";var n=a("1af9"),r=a.n(n);r.a},d40a:function(t,e,a){}});
//# sourceMappingURL=app.2425c586.js.map